<section class="content-header">
  <h1>
    {{userId ? 'Update User' : 'Add User'}}
  </h1>
</section>
<section class="content">
  <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">{{userId ? 'Update' : 'Enter'}} details</h3>
        </div>
        <form [formGroup]="user" class="form-horizontal" [password]="'password'" [confirmPassword]="'confirmPassword'">
          <div class="box-body">

            <div class="form-group">
              <label for="name" class="col-sm-2 control-label">Name</label>
              <div class="col-sm-10">
                <input type="text" formControlName="name" class="form-control" id="Name" placeholder="Name">
                <div
                  *ngIf="user.controls['name'].invalid && user.controls['name'].touched && user.controls['name'].errors.required">
                  <span class="text-danger">Name is required</span>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="phone" class="col-sm-2 control-label">Phone</label>
              <div class="col-sm-10">
                <input type="number" formControlName="phone" class="form-control" id="phone" placeholder="phone">
                <div
                  *ngIf="user.controls['phone'].invalid && user.controls['phone'].touched && user.controls['phone'].errors.required">
                  <span class="text-danger">Phone is required</span>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="inputEmail3" class="col-sm-2 control-label">Email</label>
              <div class="col-sm-10">
                <input type="email" formControlName="email" class="form-control" id="inputEmail3" placeholder="Email" validateEmail>
                <div
                  *ngIf="user.controls['email'].invalid && user.controls['email'].touched && user.controls['email'].errors.required">
                  <span class="text-danger">Email is required</span>
                </div>
                <div 
                *ngIf="user.controls['email'].invalid && user.controls['email'].hasError('validateEmail')">
                <span class="text-danger">Email is not valid</span>
              </div>
              </div>
            </div>

            <div class="form-group">
              <label for="password" class="col-sm-2 control-label">Password</label>
              <div class="col-sm-10">
                <input type="password" formControlName="password" class="form-control" id="inputPassword3"
                  placeholder="Password">
                <div
                  *ngIf="user.controls['password'].invalid && user.controls['password'].touched && user.controls['password'].errors.required">
                  <span class="text-danger">Password is required</span>
                </div>
                 <div
                *ngIf="user.controls['password'].invalid && user.controls['password'].hasError('pattern')">
                <span class="text-danger">   Password should be contains at least 1 lowercase, 1 uppercase alphabet, 1 numeric character & at least one
                special character</span></div>
              </div>
            </div>

            <div class="form-group">
              <label for="confirmPassword" class="col-sm-2 control-label">Confirm Password</label>
              <div class="col-sm-10">
                <input type="password" formControlName="confirmPassword" class="form-control" id="Confirm"
                  placeholder="Password">
                <div
                  *ngIf="user.controls['confirmPassword'].invalid && user.controls['confirmPassword'].touched && user.controls['confirmPassword'].errors.required">
                  <span class="text-danger">Confirm password is required</span>
                </div>
                <div
                *ngIf="user.controls['confirmPassword'].invalid && user.controls['confirmPassword'].errors.misMatch">
                <span class="text-danger">Password doesn't match</span></div>
              </div>
            </div>

          </div>
          <div class="box-footer">
            <button type="submit" class="btn btn-default pull-right" routerLink="/admin/users">Cancel</button>
            <button type="submit" class="btn btn-info pull-right" [disabled]="user.invalid" (click)="addUser()">{{userId ? 'Update' : 'Add'}} </button>
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-2"></div>
  </div>
</section>